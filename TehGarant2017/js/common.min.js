$(document).ready(function(){var e=[{screen:$("#screen-1"),scr:$("#scr-1"),pathJson:"./json/screen1.html"},{screen:$("#screen-2"),scr:$("#scr-2"),pathJson:"./json/screen2.html"},{screen:$("#screen-3"),scr:$("#scr-3"),pathJson:"./json/screen3.html",func:"Owl"},{screen:$("#screen-4"),scr:$("#scr-4"),pathJson:"./json/screen4.html"},{screen:$("#screen-5"),scr:$("#scr-5"),pathJson:"./json/screen5.html",func:"Tabs"},{screen:$("#screen-6"),scr:$("#scr-6"),pathJson:"./json/screen6.html"},{screen:$("#screen-7"),scr:$("#scr-7"),pathJson:"./json/screen7.html"},{screen:$("#screen-8"),scr:$("#scr-8"),pathJson:"./json/screen8.html",func:"MgfPopup"},{screen:$("#screen-10"),scr:$("#scr-10"),pathJson:"./json/screen10.html",func:"Spoilers"},{screen:$("#screen-11"),scr:$("#scr-11"),pathJson:"./json/screen11.html",func:"mapYandex"},{screen:$("#screen-12"),scr:$("#scr-12"),pathJson:"./json/screen12.html",func:"callBackForm"}];(new WOW).init();var n=$("html, body");function a(){$(window).width()<"975"?($("#nav__container").addClass("container-fluid"),$("#nav__container").removeClass("container")):($("#nav__container").removeClass("container-fluid"),$("#nav__container").addClass("container"))}function s(e,n,a,s){var o=$(e).offset().top-$(window).height();function t(){var e=$(this).scrollTop();o<e&&n.children().length<=0&&$(n).load(a,function(){"Owl"===s&&$(".owl-carousel").owlCarousel({loop:!0,center:!0,autoplay:!0,autoplayTimeout:3e3,smartSpeed:800,responsive:{0:{items:2}}}),"Tabs"===s&&($(".tabs__item").not(":first").hide(),$(".tabs__btn").click(function(){$(".tabs__btn").removeClass("active").eq($(this).index()).addClass("active"),$(".tabs__item").hide().eq($(this).index()).fadeIn()}).eq(0).addClass("active")),"MgfPopup"===s&&($(".popup-gallery").magnificPopup({mainClass:"mfp-zoom-in",delegate:"a",type:"image",tLoading:"",gallery:{enabled:!0},removalDelay:300,callbacks:{beforeChange:function(){this.items[0].src=this.items[0].src+"?="+Math.random()},open:function(){$.magnificPopup.instance.next=function(){var e=this;e.wrap.removeClass("mfp-image-loaded"),setTimeout(function(){$.magnificPopup.proto.next.call(e)},120)},$.magnificPopup.instance.prev=function(){var e=this;e.wrap.removeClass("mfp-image-loaded"),setTimeout(function(){$.magnificPopup.proto.prev.call(e)},120)}},imageLoadComplete:function(){var e=this;setTimeout(function(){e.wrap.addClass("mfp-image-loaded")},16)}}}),$(".gallery__btn").on("click",function(){$(".gallery_open:hidden").slice(0,1).fadeIn(1e3),$(".gallery_last").is(":visible")&&($(".gallery__btn").hide(),$(".gallery__btn_collapse").show())}),$(".gallery__btn_collapse").on("click",function(){$(".gallery_open:visible").hide(),$(this).hide(),$(".gallery__btn").show()})),"Spoilers"===s&&$(".spoiler").on("click",".spoiler__header",function(e){$(this).children(".spoiler__btn").toggleClass("spoiler__btn_active"),$(this).parent().children(".spoiler__content").slideToggle(300)}),"mapYandex"===s&&function(){var n,a;ymaps.ready(function(){function e(){window.innerWidth<992?$("#map__container").css("height","500px"):$("#map__container").css("height","690px"),window.innerWidth<640?n.setCenter([55.6358629,38.00664927],12,{checkZoomRange:!0}):n.setCenter([55.60788738,37.85627391],11,{checkZoomRange:!0})}n=new ymaps.Map("map",{center:[55.60788738,37.85627391],zoom:11,controls:["zoomControl"]}),a=new ymaps.Placemark([55.63517104,38.01282908],{hintContent:" ТехГарант ",balloonContent:"140032, Московская обл., Люберецкий р-н, пос. Малаховка, ул. Шоссейная, д. 40, офис 320"}),n.geoObjects.add(a),e(),$(window).resize(function(){e()})})}(),"callBackForm"===s&&($(".phone").mask("+9(999)999-99-99"),$("#call-back-form").validate({rules:{name:{required:!0,minlength:2,maxlength:30},tel:{required:!0}},messages:{name:"Представьтесь пожалуйста",tel:"Оставьте телефон для связи"},submitHandler:function(){var e=$("#call-back-form");$.ajax({url:e.action,type:e.method,data:$(e).serialize(),success:function(){$(".thanks-modal").fadeIn(400)}})}}))})}t(),$(window).scroll(function(){t()})}$('a[href*="#"]').click(function(){return n.animate({scrollTop:$($.attr(this,"href")).offset().top},400),!1}),$("#nav__tah-btn").click(function(){$(".nav__ul_responsive").slideToggle(300),$(".gamburger__btn").toggleClass("gamburger__btn_open")}),a(),$(window).resize(function(){a()}),$(window).scroll(function(){var e=$(window).width(),n=$(window).scrollTop();"975"<e&&250<n?($("#nav__container").removeClass("container"),$("#nav__container").addClass("container-fluid"),$("#nav__wrapper").addClass("nav__wrapper_sticky-top"),$("#logo-img").addClass("logo-img_stiky-top"),$("#logo-text").addClass("logo-text_stiky-top"),$("a.nav__link-phone").addClass("nav__link-phone_stiky-top"),$("a.nav__link-btn").addClass("nav__link-btn_stiky-top"),$(".nav__ul").addClass("nav__ul_stiky-top")):($("#nav__container").removeClass("container-fluid"),$("#nav__container").addClass("container"),$("#nav__wrapper").removeClass("nav__wrapper_sticky-top"),$("#logo-img").removeClass("logo-img_stiky-top"),$("#logo-text").removeClass("logo-text_stiky-top"),$("a.nav__link-phone").removeClass("nav__link-phone_stiky-top"),$("a.nav__link-btn").removeClass("nav__link-btn_stiky-top")),e<"975"&&($("#nav__container").addClass("container-fluid"),$("#nav__container").removeClass("container")),150<=n?$(".nav__wrapper").css("top","-150px"):$(".nav__wrapper").css("top","0px")}),e.forEach(function(e){s(e.screen,e.scr,e.pathJson,e.func)}),$(".phone").mask("+9(999)999-99-99"),$(".price-items__item").on("click",".price__btn",function(e){e.preventDefault(),$(".finished-packagings__modal").fadeIn();var n=$(this).parents(".price-items__item").find(".size").text();$("#size-val").val(n)}),$(".close").click(function(){$(".finished-packagings__modal").fadeOut(),$("body").removeClass("modal-open")}),$(".overlay").click(function(){$(".finished-packagings__modal").fadeOut(),$("body").removeClass("modal-open")}),$("#finished-packagings__form").validate({rules:{name:{required:!0,minlength:2,maxlength:30},tel:{required:!0}},messages:{name:"Представьтесь пожалуйста",tel:"Оставьте телефон для связи"},submitHandler:function(){var e=$("#finished-packagings__form");$.ajax({url:e.action,type:e.method,data:$(e).serialize(),success:function(){$(".thanks-modal").fadeIn(400)}})}}),$(".thanks-modal__btn").click(function(){$(".finished-packagings__modal").fadeOut(200),$(".thanks-modal").fadeOut(200),$("body").removeClass("modal-open"),$("input").val("")})});